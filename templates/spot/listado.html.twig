{% extends 'base.html.twig' %}

{% block title %}{{ deporte.nombre|capitalize }}{% endblock %}

{% block body %}
    <div class="container my-4">
        <h2>
            {{ deporte.nombre|capitalize }}
            {% if app.user and app.user.verified %}
                <a href="{{ path('spot_new', {'deporte': deporte.nombre}) }}" class="float-end btn btn-primary">
                    AÃ±adir nuevo spot
                </a>
            {% endif %}
        </h2>

        <table class="table table-striped">
            <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Deporte</th>
                <th>Provincia</th>
                <th>Creado por</th>
                <th>Fecha</th>
            </tr>
            </thead>
            <tbody>
            {% for spot in spots %}
                <tr>
                    <th>{{ spot.id }}</th>
                    <td><a href="{{ path('spot_view', {'deporte': deporte.nombre, 'id': spot.id}) }}">{{ spot.nombre }}</a>
                    </td>
                    <td>{{ deporte.nombre|capitalize }}</td>
                    <td>{{ spot.provincia.nombre }}</td>
                    <td>{{ spot.user.username }}</td>
                    <td>{{ spot.fecha|date('d/m/Y') }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
